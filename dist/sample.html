<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>UploadBuddy Sample</title>
    <link rel="stylesheet" href="sample.css"/>
</head>
<body>

<form method="post" enctype="multipart/form-data" id="the-form">

    <div>
        <label for="the-file">Upload field:</label>
        <input id="the-file" name="the-file" type="file" accept="image/*"/>
    </div>

    <hr/>

    <div>
        <button type="submit">Submit form</button>
    </div>

</form>

<!-- Include cropper.js before upload-buddy to demonstrate integration -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.6/cropper.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.6/cropper.min.css"/>

<!-- Include upload-buddy -->
<script src="upbud.min.js"></script>
<link rel="stylesheet" href="default.css"/>

<!-- On DOM ready, activate upload-buddy for the target field -->
<script>
  document.addEventListener("DOMContentLoaded", function (e) {
    // Wrap your file input with the upload-buddy field (UbField)
    UbField.setup('#the-file', {
      lang: "en",
      text: {
        "drop_file": "ðŸ”¥ Drop it like it's hot ðŸ”¥"
      },
      // On page init: we'll show a previous file value
      file: {
        name: "prefilled-file-value.jpg",
        size: 79000,
        url: "https://live.staticflickr.com/4561/38054606355_26429c884f_b.jpg",
        type: "image/png",
        custom: "metadata"
      }
    });

    // Intercept the form value (just for demo purposes)
    document.getElementById('the-form').addEventListener('submit', (e) => {
      e.preventDefault();

      const value = document.querySelector('#the-form input[name="the-file"]').value;
      alert(`The form value for "the-file" is:\r\n${value ? value : '(Empty string)'}`);

      return false;
    });
  });
</script>

</body>
</html>